### 1.SpringBoot自动装配


主程序

- ```java
  @SpringBootApplication 标注是一个springboot的应用 
  ```

- ```java
  @SpringBootConfiguration   springboot的配置
      @Configuration   spring的配置类
         @Component   说明这也是一个spring的组件
  @EnableAutoConfiguration   开启自动配置
      @AutoConfigurationPackage  自动配置包
         @Import(AutoConfigurationPackages.Registrar.class)  导入选择器
      @Import(AutoConfigurationImportSelector.class)   导入选择器
         List<String> configurations = getCandidateConfigurations(annotationMetadata, attributes); 获取所有的配置
  
  ```

- ```java
  //获取所有的配置
  protected List<String> getCandidateConfigurations(AnnotationMetadata metadata, AnnotationAttributes attributes) {
     List<String> configurations = SpringFactoriesLoader.loadFactoryNames(getSpringFactoriesLoaderFactoryClass(),
           getBeanClassLoader());
     Assert.notEmpty(configurations, "No auto configuration classes found in META-INF/spring.factories. If you "
           + "are using a custom packaging, make sure that file is correct.");
     return configurations;
  }
  
  protected Class<?> getSpringFactoriesLoaderFactoryClass() {
  		return EnableAutoConfiguration.class;
  	}
  ```
  
- META-INF/spring.factories  自动配置的核心文件
  

![](https://gitee.com/VincentBlog/image/raw/master/image/20210326093118.png)

spring-factories 存放的都是自动配置类的名称，主程序启动时候就通过注解将自动配置类全部加载，有了这些配置类就省去写配置文件.



[springboot自动装配](https://juejin.cn/post/6939520188823896100)

[springboot原理解析](https://juejin.cn/post/6939470264853889061#heading-19)



### 2.SpringMVC 初始化流程分析







